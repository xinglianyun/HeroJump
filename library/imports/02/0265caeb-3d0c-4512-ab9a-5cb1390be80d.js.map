{"version":3,"sources":["../../../../../assets/Script/enemy/assets/Script/enemy/CatEnemy.js"],"names":["cc","Class","extends","Component","properties","runTime","default","type","Float","onLoad","node","getComponent","setRealListener","_enemyNodeType","Global","enemyNodeType","cat","start","moveAction","moveBy","director","getWinSize","width","callfunc","callFunc","target","scaleX","reverseMoveAction","reverse","sequence","repeat","repeatForever","runAction","beVictory","stopAllActions","beKilled","gameManager","collectEnemy","beCollected"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACAC,iBAAU;AACNC,qBAAU,GADJ;AAENC,kBAAOP,GAAGQ;AAFJ;AAFF,KAHP;;AAWL;;AAEAC,UAbK,oBAaK;AACN,aAAKC,IAAL,CAAUC,YAAV,CAAuB,OAAvB,EAAgCC,eAAhC,CAAgD,IAAhD;AACA,aAAKC,cAAL,GAAsBC,OAAOC,aAAP,CAAqBC,GAA3C;AACH,KAhBI;AAkBLC,SAlBK,mBAkBI;AACL,YAAIC,aAAalB,GAAGmB,MAAH,CAAU,KAAKd,OAAf,EAAwBL,GAAGoB,QAAH,CAAYC,UAAZ,GAAyBC,KAAjD,EAAwD,CAAxD,CAAjB;AACA,YAAIC,WAAWvB,GAAGwB,QAAH,CAAa,UAASC,MAAT,EAAgB;AACxC,iBAAKf,IAAL,CAAUgB,MAAV,IAAoB,CAAC,CAArB;AACH,SAFc,EAEZ,IAFY,CAAf;AAGA,YAAIC,oBAAoBT,WAAWU,OAAX,EAAxB;AACA,YAAIC,WAAW7B,GAAG6B,QAAH,CAAYX,UAAZ,EAAwBK,QAAxB,EAAkCI,iBAAlC,EAAqDJ,QAArD,CAAf;AACA,YAAIO,SAAS9B,GAAG+B,aAAH,CAAiBF,QAAjB,CAAb;AACA,aAAKnB,IAAL,CAAUsB,SAAV,CAAoBF,MAApB;AACH,KA3BI;;;AA6BL;;AAEA;AACA;;;AAGAG,eAAY,qBAAU;AAClB,aAAKvB,IAAL,CAAUwB,cAAV;AACH,KArCI;AAsCL;;;AAGAC,cAAW,oBAAU;AACjB,aAAKzB,IAAL,CAAUwB,cAAV;AACApB,eAAOsB,WAAP,CAAmBC,YAAnB,CAAgC,KAAK3B,IAArC,EAA2C,KAAKG,cAAhD;AACH,KA5CI;;AA8CL;;;AAGAyB,iBAAc,uBAAU;AACpB,aAAK5B,IAAL,CAAUwB,cAAV;AACApB,eAAOsB,WAAP,CAAmBC,YAAnB,CAAgC,KAAK3B,IAArC,EAA2C,KAAKG,cAAhD;AACH;AACD;AArDK,CAAT","file":"CatEnemy.js","sourceRoot":"../../../../../assets/Script/enemy","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // 左右移动一次需要的时间\n        runTime : {\n            default : 1.5,\n            type : cc.Float\n        }\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        this.node.getComponent(\"Enemy\").setRealListener(this)\n        this._enemyNodeType = Global.enemyNodeType.cat\n    },\n\n    start () {\n        var moveAction = cc.moveBy(this.runTime, cc.director.getWinSize().width, 0)\n        var callfunc = cc.callFunc( function(target){\n            this.node.scaleX *= -1\n        }, this)\n        var reverseMoveAction = moveAction.reverse()\n        var sequence = cc.sequence(moveAction, callfunc, reverseMoveAction, callfunc)\n        var repeat = cc.repeatForever(sequence)\n        this.node.runAction(repeat)\n    },\n\n    // update (dt) {},\n\n    //************************************start logic*************************************************//\n    /**\n     * desc: when victory (kill the hero)\n     */\n    beVictory : function(){\n        this.node.stopAllActions()\n    },\n    /**\n     * desc: when killed by hero\n     */\n    beKilled : function(){\n        this.node.stopAllActions()\n        Global.gameManager.collectEnemy(this.node, this._enemyNodeType)\n    },\n\n    /**\n     * desc: node to be collected\n     */\n    beCollected : function(){\n        this.node.stopAllActions()\n        Global.gameManager.collectEnemy(this.node, this._enemyNodeType)\n    }\n    //************************************end logic*************************************************//\n});\n"]}