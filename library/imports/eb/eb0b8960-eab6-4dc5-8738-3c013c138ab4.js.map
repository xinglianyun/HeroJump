{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\enemy/assets\\Script\\enemy\\RunEnemy.js"],"names":["cc","Class","extends","Component","properties","type","default","String","onLoad","node","getComponent","setRealListener","start","_totalOffsetY","update","dt","speed","Global","gameMainScene","getRunSpeed","offsetY","y","Math","abs","director","getWinSize","height","beKilled","beVictory","stopAllActions","gameManager","collectEnemy"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,cAAO;AACHC,qBAAU,UADP;AAEHD,kBAAOL,GAAGO;AAFP;AADC,KAHP;;AAUL;;AAEAC,UAZK,oBAYK;AACN,aAAKC,IAAL,CAAUC,YAAV,CAAuB,OAAvB,EAAgCC,eAAhC,CAAgD,IAAhD;AACH,KAdI;AAgBLC,SAhBK,mBAgBI;AACL,aAAKC,aAAL,GAAqB,GAArB;AACH,KAlBI;AAoBLC,UApBK,kBAoBGC,EApBH,EAoBO;AACR,YAAIC,QAAQC,OAAOC,aAAP,CAAqBC,WAArB,KAAmC,GAA/C;AACA,YAAIC,UAAUJ,QAAQD,EAAtB;AACA,aAAKN,IAAL,CAAUY,CAAV,IAAeD,OAAf;AACA,aAAKP,aAAL,IAAsBO,OAAtB;;AAEA,YAAGE,KAAKC,GAAL,CAAS,KAAKV,aAAd,IAAgCb,GAAGwB,QAAH,CAAYC,UAAZ,GAAyBC,MAAzB,GAAkC,GAArE,EAA0E;AACtE,iBAAKC,QAAL;AACH;AACJ,KA7BI;;;AA+BL;AACAC,eAAY,qBAAU;AAClB,aAAKnB,IAAL,CAAUoB,cAAV;AACH,KAlCI;;AAoCLF,cAAW,oBAAU;AACjB,aAAKlB,IAAL,CAAUoB,cAAV;AACAZ,eAAOa,WAAP,CAAmBC,YAAnB,CAAgC,KAAKtB,IAArC,EAA2C,KAAKJ,IAAhD;AACH;AAvCI,CAAT","file":"RunEnemy.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\enemy","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        type : {\r\n            default : \"runenemy\",\r\n            type : cc.String\r\n        },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.node.getComponent(\"Enemy\").setRealListener(this)\r\n    },\r\n\r\n    start () {\r\n        this._totalOffsetY = 0.0\r\n    },\r\n\r\n    update (dt) {\r\n        var speed = Global.gameMainScene.getRunSpeed()*1.2\r\n        var offsetY = speed * dt\r\n        this.node.y += offsetY\r\n        this._totalOffsetY += offsetY\r\n\r\n        if(Math.abs(this._totalOffsetY) > (cc.director.getWinSize().height * 1.5)){\r\n            this.beKilled()\r\n        }\r\n    },\r\n\r\n    // logic\r\n    beVictory : function(){\r\n        this.node.stopAllActions()\r\n    },\r\n\r\n    beKilled : function(){\r\n        this.node.stopAllActions()\r\n        Global.gameManager.collectEnemy(this.node, this.type)\r\n    },\r\n});\r\n"]}