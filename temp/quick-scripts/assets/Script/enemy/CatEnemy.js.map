{"version":3,"sources":["CatEnemy.js"],"names":["gameManager","Global","cc","Class","extends","Component","properties","type","default","String","runTime","Float","onLoad","node","getComponent","setRealListener","start","moveAction","moveBy","director","getWinSize","width","callfunc","callFunc","target","scaleX","reverseMoveAction","reverse","sequence","repeat","repeatForever","runAction","beVictory","stopAllActions","beKilled","collectEnemy"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIA,cAAcC,OAAOD,WAAzB;AACAE,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,cAAO;AACHC,qBAAU,KADP;AAEHD,kBAAOL,GAAGO;AAFP,SADC;AAKRC,iBAAU;AACNF,qBAAU,GADJ;AAEND,kBAAOL,GAAGS;AAFJ;AALF,KAHP;;AAcL;;AAEAC,UAhBK,oBAgBK;AACN,aAAKC,IAAL,CAAUC,YAAV,CAAuB,OAAvB,EAAgCC,eAAhC,CAAgD,IAAhD;AACH,KAlBI;AAoBLC,SApBK,mBAoBI;AACL,YAAIC,aAAaf,GAAGgB,MAAH,CAAU,KAAKR,OAAf,EAAwBR,GAAGiB,QAAH,CAAYC,UAAZ,GAAyBC,KAAjD,EAAwD,CAAxD,CAAjB;AACA,YAAIC,WAAWpB,GAAGqB,QAAH,CAAa,UAASC,MAAT,EAAgB;AACxC,iBAAKX,IAAL,CAAUY,MAAV,IAAoB,CAAC,CAArB;AACH,SAFc,EAEZ,IAFY,CAAf;AAGA,YAAIC,oBAAoBT,WAAWU,OAAX,EAAxB;AACA,YAAIC,WAAW1B,GAAG0B,QAAH,CAAYX,UAAZ,EAAwBK,QAAxB,EAAkCI,iBAAlC,EAAqDJ,QAArD,CAAf;AACA,YAAIO,SAAS3B,GAAG4B,aAAH,CAAiBF,QAAjB,CAAb;AACA,aAAKf,IAAL,CAAUkB,SAAV,CAAoBF,MAApB;AACH,KA7BI;;;AA+BL;;AAEA;AACAG,eAAY,qBAAU;AAClB,aAAKnB,IAAL,CAAUoB,cAAV;AACH,KApCI;;AAsCLC,cAAW,oBAAU;AACjB,aAAKrB,IAAL,CAAUoB,cAAV;AACAjC,oBAAYmC,YAAZ,CAAyB,KAAKtB,IAA9B,EAAoC,KAAKN,IAAzC;AACH;;AAzCI,CAAT","file":"CatEnemy.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\enemy","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\nvar gameManager = Global.gameManager\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        type : {\r\n            default : \"cat\",\r\n            type : cc.String\r\n        },\r\n        runTime : {\r\n            default : 1.5,\r\n            type : cc.Float\r\n        }\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.node.getComponent(\"Enemy\").setRealListener(this)\r\n    },\r\n\r\n    start () {\r\n        var moveAction = cc.moveBy(this.runTime, cc.director.getWinSize().width, 0)\r\n        var callfunc = cc.callFunc( function(target){\r\n            this.node.scaleX *= -1\r\n        }, this)\r\n        var reverseMoveAction = moveAction.reverse()\r\n        var sequence = cc.sequence(moveAction, callfunc, reverseMoveAction, callfunc)\r\n        var repeat = cc.repeatForever(sequence)\r\n        this.node.runAction(repeat)\r\n    },\r\n\r\n    // update (dt) {},\r\n\r\n    //logic\r\n    beVictory : function(){\r\n        this.node.stopAllActions()\r\n    },\r\n\r\n    beKilled : function(){\r\n        this.node.stopAllActions()\r\n        gameManager.collectEnemy(this.node, this.type)\r\n    },\r\n\r\n});\r\n"]}